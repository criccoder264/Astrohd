<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>@criccoder</title>
  <link rel="stylesheet" href="https://cxh.pages.dev/style.css">
</head>
<body>
<!-- partial:index.partial.html -->
<!-- Fullscreen Video CSS -->
<style>
  #player {
    position: absolute;
    width: 100% !important;
    height: 100% !important;
  }
</style>

<!-- Player -->
<div id="player"></div>
<script src='https://content.jwplatform.com/libraries/KB5zFt7A.js'></script>
<script>
  // Video stream configurations (without token)
  const videoConfigs = {
    "1": {
      url: "https://vkvsd55.okcdn.ru/cmaf/7443308808935/sig/esxrZxGt2cE/srcIp/3.110.165.205/urls/45.136.22.88/expires/1734569291503/clientType/13/srcAg/CHROME/fromCache/1/mid/9109154376679/id/7443308808935/get/dash_9109154376679.FR5QsSfmxmU.mpd"
    },
    "2": {
      url: "https://m118753.protect-cdn.net/live/m4-720p.m3u8"
    },
    "3": {
      url: "https://vkvsd14.okcdn.ru/cmaf/7333724293676/sig/Q4AWMsBSn5Y/expires/1734491746908/srcIp/172.69.95.124/urls/45.136.20.36/clientType/13/srcAg/CHROME/mid/7917468068652/get/hls_7917468068652.J40GMVFt0Z4.m3u8"
    },
    "4": {
      url: "https://jiotvbpklive.cdn.jio.com/bpk-tv/IDCDemo_IPL23_Sports18_MOB/Fallback/IDCDemo_IPL23_Sports18.m3u8"
    },
    "5": {
      url: "https://vkvsd63.okcdn.ru/cmaf/7322813008428/sig/Q9ExRkqzoiA/expires/1734491784087/srcIp/172.69.95.169/urls/45.136.20.35/clientType/13/srcAg/CHROME/mid/7910054046508/get/hls_7910054046508.sER_U_kCR04.m3u8"
    }
  };

  // Get the query parameter 'id' from the URL
  const urlParams = new URLSearchParams(window.location.search);
  const streamId = urlParams.get('id');  // Extract 'id' parameter from URL

  // Check if the 'id' parameter exists and is valid
  const videoConfig = videoConfigs[streamId];

  // Initialize JW Player with the selected stream or default to stream 1
  const playerInstance = jwplayer("player").setup({
    file: videoConfig ? videoConfig.url : videoConfigs["1"].url,  // Use the selected or default stream URL
    controls: true,
    displaytitle: true,
    autoplay: true,    
    displaydescription: true,
    abouttext: "",
    aboutlink: "https://telegram.me/Criccoder",  // Updated Telegram channel link
    skin: {
      name: "netflix"
    },
    logo: {
      file: "",
      link: "https://telegram.me/Criccoder"  // Updated Telegram channel link
    },
    captions: {
      color: "#FFF",
      fontSize: 14,
      backgroundOpacity: 0,
      edgeStyle: "raised"
    },
    playlist: [
      {
        image: "",
        sources: [
          {
            file: videoConfig ? videoConfig.url : videoConfigs["1"].url,  // Use the selected or default stream URL
            label: "1080p",
            default: true
          }
        ],
      }
    ],
    advertising: {
      client: "vast",
      schedule: [
        {
          offset: "pre",
          tag: ""
        }
      ]
    }
  });

  playerInstance.on("ready", function () {
    const playerContainer = playerInstance.getContainer();
    const buttonContainer = playerContainer.querySelector(".jw-button-container");

    // Rewind button functionality
    const rewindContainer = playerContainer.querySelector(".jw-display-icon-rewind");
    const rewindButton = rewindContainer.cloneNode(true);
    const rewindIcon = rewindButton.querySelector(".jw-icon-rewind");
    rewindIcon.style.transform = "scaleX(1)";
    rewindIcon.ariaLabel = "Rewind 5 Seconds";

    const nextContainer = playerContainer.querySelector(".jw-display-icon-next");
    nextContainer.parentNode.insertBefore(rewindButton, nextContainer);

    // Rewind functionality for the control bar
    const rewindControlBarButton = buttonContainer.querySelector(".jw-icon-rewind");
    const rewindControlBarClone = rewindControlBarButton.cloneNode(true);
    rewindControlBarClone.style.transform = "scaleX(1)";
    rewindControlBarClone.ariaLabel = "Rewind 5 Seconds";
    buttonContainer.insertBefore(rewindControlBarClone, buttonContainer.firstChild);

    // On click of rewind button, seek backward by 15 seconds
    [rewindButton, rewindControlBarClone].forEach((button) => {
      button.onclick = () => {
        const currentPosition = playerInstance.getPosition();
        const newPosition = Math.max(currentPosition - 5, 0); // Prevent going below 0
        playerInstance.seek(newPosition);
      };
    });

    // Detect adblock
    playerInstance.on("adBlock", () => {
      const modal = document.querySelector("div.modal");
      modal.style.display = "flex";
      document
        .getElementById("close")
        .addEventListener("click", () => location.reload());
    });
  });

  // Function to automatically rewind 15 seconds when a stream changes
  function autoRewind() {
    const currentPosition = playerInstance.getPosition();
    const newPosition = Math.max(currentPosition - 5, 0);  // Prevent going below 0
    playerInstance.seek(newPosition);
  }

  // Bind the autoRewind function to the "onPlay" event, so it rewinds when the stream starts
  playerInstance.on("play", autoRewind);

  // Confirmation message for joining Telegram channel
  var a = confirm("Join For More Links!!");
  if (a == true) {
    window.location.href = "https://telegram.me/Criccoder";  // Updated Telegram channel link
  }

  function welcome() {
    window.open("https://telegram.me/Criccoder");  // Updated Telegram channel link
  }
if (window.top !== window.self) {
        window.addEventListener('DOMContentLoaded', function() {
          document.body.innerHTML = '<div id="message">Copy Karna Buri Baar hai</div>';
        });
      }
</script>

<script disable-devtool-auto='true' src='https://cdn.jsdelivr.net/npm/disable-devtool' clear-log='true' disable-select='true' disable-copy='true' disable-cut='true' disable-paste='true'></script>
</body>
</html>
