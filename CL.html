<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer">
    <title>@criccoder</title>

    <!-- JWPlayer Script -->
    <script src="https://content.jwplatform.com/libraries/KB5zFt7A.js"></script>
    <script>jwplayer.key = "MOYE-MOYE";</script>
</head>
<body>
    <div id="player"></div>

    <!-- Telegram Channel Invitation -->
    <div id="telegram-invite" onclick="window.location.href='https://telegram.me/criccoder'">
        Join Our Telegram Channel @criccoder
    </div>

    <script>
        // Video Configuration based on the 'id' query parameter
        const videoConfigs = {
            "1": {
                url: "https://echocraft.store/live/1/chunks.m3u8?bongls.com="
            },
            "2": {
                url: "https://pulselink.biz/live/1/chunks.m3u8?bongls.com"
            },
            "3": {
                url: "https://zylotech.xyz/live/2/chunks.m3u8?bongls.com="
            },
            	
        };

        // Function to get the query parameter 'id'
        function getQueryParameter(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // Get the 'id' parameter from the URL (e.g., ?id=1 or ?id=2)
        const id = getQueryParameter('id');
        const config = videoConfigs[id];

        if (!config) {
            console.error('No valid configuration found for the provided id.');
        } else {
            // JWPlayer setup
            var player = jwplayer("player");
            player.setup({
                file: config.url,  // Load the stream URL based on the 'id'
                width: "100%",
                height: "100%",
                playbackRateControls: true,
                hlsjsConfig: {
                    // Use HLS.js settings to improve performance and fix issues
                    capLevelToPlayerSize: true,
                    maxMaxBufferLength: 30, // Limit the buffer length to avoid excessive buffering
                    maxBufferLength: 60, // Max buffer length in seconds
                    maxBufferSize: 60 * 1000 * 1000, // Max buffer size in bytes
                    startLevel: -1, // Start with the best available quality
                    liveSyncDuration: 30, // Sync live streams with a buffer of 30 seconds
                    liveMaxLatencyDuration: 60, // Maximum latency for live streams
                },
                events: {
                    onError: function(event) {
                        console.error('JWPlayer error:', event.message);
                    },
                    onReady: function() {
                        console.log('JWPlayer is ready and stream is loading...');
                    },
                    onBuffer: function(event) {
                        console.log('Buffering:', event);
                    },
                    onPlay: function() {
                        console.log('Playback started');
                    }
                }
            });
        }

        // Telegram redirection prompt
        if (confirm("Join Our Telegram Channel @criccoder")) {
            window.location.href = "https://telegram.me/criccoder";
        }
    </script>
</body>
</html>
