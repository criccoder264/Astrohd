<!DOCTYPE html>
<html>

<head>
    <title>Star Sports 2 HD - @criccoder</title>
    <link rel="icon" href="https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Telegram_logo.svg/2048px-Telegram_logo.svg.png" type="image/png" sizes="250x250">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.1.1/shaka-player.ui.min.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.1.1/controls.min.css" crossorigin="anonymous" />
    <style>
        /* Overflow menu style */
        .shaka-overflow-menu {
            background-color: rgb(41, 41, 163);
            color: rgb(153, 153, 153);
        }

        .shaka-overflow-menu button:hover {
            background-color: rgb(45, 45, 45);
        }

        .shaka-overflow-button-label {
            color: rgb(245, 245, 245);
        }

        .shaka-current-selection-span {
            color: rgb(202, 202, 202);
        }

        .material-icons-round {
            color: rgb(230, 230, 230);
        }

        /* Overflow sub menu style */
        .shaka-settings-menu {
            background-color: rgb(35, 35, 35);
            color: rgb(255, 255, 255);
        }

        .shaka-settings-menu button {
            color: rgb(255, 255, 255);
        }

        .shaka-settings-menu button:hover {
            background-color: rgb(45, 45, 45);
        }
    </style>
</head>

<body bgcolor="black" style="margin:0;">
    <div data-shaka-player-container style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover">
        <video autoplay muted data-shaka-player id="video" style="width:100%;height:100%"></video>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <script>
        (async function () {
            // Function to get the value of a query parameter by name
            function getQueryParameter(name) {
                const urlParams = new URLSearchParams(window.location.search);
                return urlParams.get(name);
            }

            // Define the configuration using the desired format
            const videoConfigs = {
                
            "PRIME": {
                url: "https://otte.live.fly.ww.aiv-cdn.net/pdx-nitro/live/clients/dash/enc/wr8i0xhnut/out/v1/190f1d69a3d5467f8fb7d9df4339bc49/cenc.mpd",
                k1: "cb8daf414566aa17d06f8294f3f3b444",
                k2: "89d58908a57d70ef87bf16c9b5821ca2"
            },
            "PRIMEH": {
                url: "https://fsly.stream.peacocktv.com/Content/CMAF_OL1-CTR-4s/Live/channel(universo-east)/master.mpd",
                k1: "232d71bb013d39ffb92ee8c576fb7e8e",
                k2: "087408a48be8d57046c3868b37ea90ba"
            },
                "WILLOWAMZ": {
                url: "https://a201aivottlinear-a.akamaihd.net/OTTB/lhr-nitro/clients/dash/enc/f60kqesunw/out/v1/a435ed7a00f947deb4369b46d8f2fb70/cenc.mpd",
                k1: "1779c27b9d077a3ba0c9cc1bb9a94b9f",
                k2: "cc5cf3b7928fb9e0a1ee6a8b566f0a8e"
            },
                // Add more configurations as needed
            };
            
            // Function to initialize the video player
            async function init() {
                const id = getQueryParameter('id');
                const config = videoConfigs[id];

                if (!config) {
                    console.error('No valid configuration found for the provided id.');
                    return;
                }

                const video = document.getElementById('video');
                const ui = video['ui'];
                ui.configure({
                    seekBarColors: {
                        base: 'rgba(255,255,255,.2)',
                        buffered: 'rgba(255,255,255,.4)',
                        played: 'rgb(255,0,0)',
                    }
                });

                const controls = ui.getControls();
                const player = controls.getPlayer();

                // Apply DRM configuration to the player
                player.configure({
                    drm: {
                        clearKeys: {
                            [config.k1]: config.k2
                        }
                    }
                });

                try {
                    await player.load(config.url);
                    // Mute the video to allow autoplay
                    video.muted = true;
                    await video.play(); // Attempt to autoplay
                } catch (error) {
                    console.error('Error loading manifest or autoplay failed:', error);
                }

                // Replace jQuery with vanilla JavaScript for modifying button text
                document.querySelectorAll('.shaka-overflow-menu-button').forEach(button => {
                    button.textContent = 'settings';
                });

                document.querySelectorAll('.shaka-back-to-overflow-button .material-icons-round').forEach(icon => {
                    icon.textContent = 'arrow_back_ios_new';
                });
            }

            document.addEventListener('shaka-ui-loaded', init);

            // Display a pop-up message when the page starts
            window.addEventListener("load", function () {
                var result = window.confirm("Join @criccoder For More");
                if (result) {
                    window.location.href = "https://telegram.me/criccoder";
                }
            });
        })();
    </script>
</body>

</html>
