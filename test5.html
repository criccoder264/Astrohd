<!doctypehtml><html lang=en><meta charset=UTF-8><meta content="width=device-width,initial-scale=1"name=viewport><title>Shaka Player DRM Example</title><script crossorigin=anonymous src=https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.1.1/shaka-player.compiled.js></script><link crossorigin=anonymous href=https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.1.1/controls.min.css rel=stylesheet><style>video{width:100%;height:100%;background-color:#000}</style><div id=video-container><video autoplay controls id=video muted></video></div><script>(async function() {
            // Video configuration with DRM details (example)
            const videoConfigs = {
                "TNT1": {
                    url: "https://ottb.live.cf.ww.aiv-cdn.net/lhr-nitro/live/clients/dash/enc/wf8usag51e/out/v1/bd3b0c314fff4bb1ab4693358f3cd2d3/cenc.mpd",
                    k1: "ae26845bd33038a9c0774a0981007294",
                    k2: "63ac662dde310cfb4cc6f9b43b34196d"
                },
                "WILLOWHD1": {
                    url: "https://example.com/manifest.mpd",
                    k1: "your-clear-key-here",
                    k2: "your-second-clear-key-here"
                },
                // Add other streams as needed
            };

            // Function to get query parameter
            function getQueryParameter(name) {
                const urlParams = new URLSearchParams(window.location.search);
                return urlParams.get(name);
            }

            // Get the video configuration based on the query parameter
            const id = getQueryParameter('id');
            const config = videoConfigs[id];

            if (!config) {
                console.error('No valid configuration found for the provided id.');
                return;
            }

            // Initialize Shaka Player
            const video = document.getElementById('video');
            const player = new shaka.Player(video);

            // Configure DRM for the player
            player.configure({
                drm: {
                    clearKeys: {
                        [config.k1]: config.k2 // Add the keys to the configuration
                    }
                }
            });

            // Add event listener for error handling
            player.addEventListener('error', onPlayerError);

            // Function to handle player errors
            function onPlayerError(event) {
                console.error('Shaka Player error:', event.detail);
            }

            // Initialize UI controls for Shaka Player
            const ui = new shaka.ui.Controls(video, player);
            ui.configure({
                seekBarColors: {
                    base: 'rgba(255,255,255,.2)',
                    buffered: 'rgba(255,255,255,.4)',
                    played: 'rgb(255,0,0)',
                }
            });

            // Try to load the video stream
            try {
                await player.load(config.url);  // Load the manifest for the video stream
                console.log('Video is loaded successfully');
                await video.play(); // Autoplay the video
            } catch (error) {
                console.error('Error loading video:', error);
            }
        })();</script>
