<title>Astro Cricket HD</title>
    <meta charset="UTF-8">
    <meta name="referrer" content="no-referrer">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.8.8/shaka-player.ui.min.js"></script><style type="text/css">* {user-select: auto !important; -webkit-user-select: auto !important;}</style><input type="hidden" id="inject_idm_text_selection"><style></style>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.9.3/controls.min.css" rel="stylesheet">
</head>
<body bgcolor="black" style="margin:0;">
<center>
    <div data-shaka-player-container="" style="width: 100%; height: 100%; cursor: none;" class="shaka-mobile shaka-video-container" shaka-controls="true">
        <video poster="https://linear-poster.astro.com.my/prod/poster/Astro-Cricket_2024_IVP_LAND_917x516.jpg" autoplay="" data-shaka-player="" id="video" style="width: 100%; height: 100%;" class="shaka-video" src="blob:https://t20wc.pages.dev/da763d4e-fd51-4e2a-a817-2b73e4643682"></video>
</center>
<script>
        // Define stream configurations including URLs and DRM keys
        const videoConfigs = {
            "USANETWORK": {
                url: "https://fsly.stream.peacocktv.com/Content/CMAF_OL1-CTR-4s/Live/channel(usa-west)/master.mpd",
                k1: "252a671825ba31ec8433f978c32ccf6d",
                k2: "ee560759ecc8d2274df2e63fcef56915"
            },
            "UNIVERSO": {
                url: "https://fsly.stream.peacocktv.com/Content/CMAF_OL1-CTR-4s/Live/channel(universo-east)/master.mpd",
                k1: "232d71bb013d39ffb92ee8c576fb7e8e",
                k2: "087408a48be8d57046c3868b37ea90ba"
            },
            "AMAZON_CRICKET_ENG": {
                url: "https://aba5sdmaaaaaaaamd2pqhgokntneg.otte.live.cf.ww.aiv-cdn.net/pdx-nitro/live/clients/dash/enc/mfvez6cbji/out/v1/108bfdad52584b3dac8da45d0b679e7d/cenc.mpd",
                k1: "29d389f476fe821be2fa93f48377cf66",
                k2: "a9edff53a726d123acfed56e68d0299e"
            },
            "AMAZON_CRICKET_HINDI": {
                url: "https://a120aivottepl-a.akamaihd.net/pdx-nitro/live/clients/dash/enc/cikydktuif/out/v1/c0373ca1f8a441c29bb4dbb193c4a39c/cenc.mpd",
                k1: "913680cbb31c57ae4004ec030b5ec223",
                k2: "5ea27cc20c4fa3474e67c1a8083e45c9"
            },
            "FANCODE": {
                url: "https://a39aivottlinear-a.akamaihd.net/OTTB/sin-nitro/live/clients/dash/enc/l8j2xgwt32/out/v1/fe72171ab2684ab8b9ee3e2ffcc9cff2/cenc.mpd",
                k1: "159a2b4e1d2d7f16892d35d935a2fb34",
                k2: "07809840dd0f511221ca78459167d1b3"
            }
        };

        // Function to get the value of a query parameter by name
        function getQueryParameter(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // Function to load the stream based on the stream ID or query parameter
        async function loadStream() {
            const streamId = getQueryParameter("id");

            if (!streamId || !videoConfigs[streamId]) {
                console.error("Stream ID is missing or invalid");
                return;
            }

            const videoElement = document.getElementById("video");
            const player = new shaka.Player(videoElement);

            // Configure DRM for the stream using provided keys
            player.configure({
                drm: {
                    clearKeys: {
                        [videoConfigs[streamId].k1]: videoConfigs[streamId].k2
                    }
                }
            });

            // Load the selected stream
            try {
                await player.load(videoConfigs[streamId].url);
                console.log(`Stream ${streamId} has been loaded!`);
            } catch (error) {
                console.error("Error loading the stream:", error);
            }

            // Update the URL with the selected stream ID (optional)
            window.history.pushState({}, "", `?id=${streamId}`);
        }

        // Automatically load the stream based on the URL parameter
        window.onload = function () {
            loadStream(); // Load stream when page loads
        };
    </script>
</body>

</html>
